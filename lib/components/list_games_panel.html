<!DOCTYPE html>

<html>
  <body>
    <element name="list-games" extends="div" constructor="ListGamesPanel">
    <template>
      <h2>Game List</h2>
      <template if="!app.player.isConnected">
         <div class="wrapper">
           <p>Sign in to see blah, blah, and then you can blah, blah. But,
           if you don't blah, blah, blah....Good luck with that.</p>
         </div>
      </template>

      <template if="app.player.isConnected">
        <div class="wrapper">
          <table>
            <thead>
              <tr>
                <td>Game</td>
                <td>Score</td>
              </tr>
            </thead>

            <tbody template iterate="game in games.reversed">
              <tr>
                <td class="last-played">{{game.lastPlayedFormatted}}</td>
                <td class="status">
                  <template if="game.done">
                    <span class="score">{{game.score}}</span>
                  </template>
                  <template if="!game.done">
                    <button on-click="app.resumeGame(game)">Resume</button>
                    <div class="time-remaining">{{game.timeRemaining}}'' left</div>
                 </template>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </template>
      </template>
      <script type="application/dart" src="list_games_panel.dart"></script>
    </element>
  </body>
</html>
