<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <!--
    Send the index with a state token so when a token is passed back
    we know that its something we issued form our server.
    -->
    <meta name="state_token" content="DEBUG_TOKEN">
    <title>Tile based word forming entertainment</title>
    <link rel="import" href="packages/tilebasedwordsearch/components/login_panel.html">
    <link rel="import" href="packages/tilebasedwordsearch/components/high_scores_component.html">
    <link rel="import" href="packages/tilebasedwordsearch/components/main_panel.html">
    <link rel="import" href="packages/tilebasedwordsearch/components/new_game_panel.html">
    <link rel="import" href="packages/tilebasedwordsearch/components/game_panel.html">
  </head>
  <body>
    <template if="app.currentPanel == 'login'">
      <div is="login-panel"
        authentication-context="{{app.player.authenticationContext}}"
        sign-in-callback="{{app.player.signedIn}}"
        sign-out-callback="{{app.player.signedOut}}"
        ></div>
    </template>

    <template if="app.currentPanel == 'main'">
      <div is="main-panel"></div>
    </template>

    <template if="app.currentPanel == 'game'">
      <div is="game-panel"
           dictionary="{{app.dictionary}}"
           letter-atlas="{{app.letterAtlas}}"></div>
    </template>

    <template if="app.currentPanel == 'newGame'">
      <div is="new-game-panel"></div>
    </template>

    <template if="app.currentPanel == 'highScores'">
      <div is="high-scores-panel"></div>
    </template>

    <script type="application/dart" src="main.dart"></script>
    <script src="packages/browser/dart.js"></script>
  </body>
</html>
